<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S3 Bucket Links</title>
</head>
<body>
    <h1>Add S3 Bucket URL</h1>
    <form id="urlForm">
        <label for="bucketUrl">S3 Bucket URL:</label><br>
        <input type="text" id="bucketUrl" name="bucketUrl" required><br><br>
        <button type="submit">Submit</button>
    </form>

    <!-- Start of Stored S3 Bucket URLs Section -->
    <h2>Stored S3 Bucket URLs:</h2>
    <ul id="urlList">
        <!-- URLs will be dynamically added here -->
    </ul>
    <!-- End of Stored S3 Bucket URLs Section -->

    <script>
        // JavaScript to handle form submission and displaying URLs
        document.getElementById('urlForm').addEventListener('submit', function(event) {
            event.preventDefault();
            let urlInput = document.getElementById('bucketUrl');
            let url = urlInput.value.trim();
            if (isValidS3Url(url)) {
                let listItem = document.createElement('li');
                let link = document.createElement('a');
                link.href = "#"; // Set a placeholder href for click handling
                link.textContent = url;
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    handleS3Navigation(url); // Handle S3 URL navigation
                });
                listItem.appendChild(link);
                document.getElementById('urlList').appendChild(listItem);
                urlInput.value = '';
            } else {
                alert('Please enter a valid S3 Bucket URL starting with "s3://".');
            }
        });

        // Function to validate S3 Bucket URL
        function isValidS3Url(url) {
            // Example validation: Check if URL starts with "s3://"
            return url.startsWith('s3://');
        }

        // Function to handle S3 URL navigation
        function handleS3Navigation(url) {
            // Implement logic to open the S3 URL in a new tab or appropriate tool
            // For demonstration, let's open in a new tab (replace with actual logic)
            window.open('https://s3.console.aws.amazon.com/s3/buckets/' + extractBucketName(url), '_blank');
        }

        // Function to extract bucket name from S3 URL
        function extractBucketName(url) {
            // Assuming S3 URL format is s3://bucket-name/path/to/file
            let parts = url.split('/');
            if (parts.length >= 3 && parts[0] === 's3:' && parts[1] === '' && parts[2] !== '') {
                return parts[2]; // Return bucket name
            } else {
                return ''; // Handle invalid or unexpected format
            }
        }
    </script>
</body>
</html>
